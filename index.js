import{a as m,S as h}from"./assets/vendor-DBMDmZZa.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}})();const p="47504647-de6fca25d262a81a07b30a07f",L="https://pixabay.com/api/",f=async(t,e,a=15)=>(await m.get(L,{params:{key:p,q:t,image_type:"photo",orientation:"horizontal",safesearch:!0,page:e,per_page:a}})).data,y=t=>{const e=document.querySelector(".gallery"),a=t.map(s=>`
        <div class="gallery-item">
          <a href="${s.largeImageURL}">
            <img src="${s.webformatURL}" alt="${s.tags}" loading="lazy" />
          </a>
        </div>
      `).join("");e.insertAdjacentHTML("beforeend",a)},b=()=>{const t=document.querySelector(".gallery");t.innerHTML=""},u=t=>{const e=document.querySelector(".load-more");e.style.display=t?"block":"none"},q=()=>{alert("We're sorry, but you've reached the end of search results.")};let c="",n=1;const l=15;let d=0;const S=document.querySelector("#search-form"),v=document.querySelector(".load-more"),w=document.querySelector(".gallery");let g=new h(".gallery a");S.addEventListener("submit",async t=>{if(t.preventDefault(),c=t.target.elements.searchQuery.value.trim(),!!c){b(),n=1,u(!1);try{const e=await f(c,n,l);if(d=e.totalHits,e.hits.length===0){alert("No images found for your query.");return}y(e.hits),g.refresh(),d>l&&u(!0)}catch(e){console.error("Error fetching images:",e)}}});v.addEventListener("click",async()=>{n+=1;try{const t=await f(c,n,l);y(t.hits),g.refresh();const e=w.firstElementChild.getBoundingClientRect().height;window.scrollBy({top:e*2,behavior:"smooth"}),n*l>=d&&(u(!1),q())}catch(t){console.error("Error fetching images:",t)}});
//# sourceMappingURL=index.js.map
